(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[700],{3700:(t,e,i)=>{"use strict";i.r(e),i.d(e,{OperatorModule:()=>vi});var n=i(8583),o=i(5987),a=i(5149),r=i(7716),s=i(8792),c=i(1317),d=i(2522),l=i(1095),u=i(6627),g=i(3935),p=i(3017),m=i(1769);let h=(()=>{class t{constructor(t,e,i){this.repoService=t,this.tokenStorage=e,this.router=i,this._userInformation="api/user/",this.profile_pic="",this._user_id=window.sessionStorage.getItem("user_id"),this.getUser=()=>{this.repoService.getData(`${this._userInformation}${this._user_id}/`).toPromise().then(t=>{this.user=t,console.log(this.user)})},this.user=new a.n}ngOnInit(){this.getUser()}cerrarSesion(){this.tokenStorage.signOut(),this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.b),r.Y36(c.i),r.Y36(o.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-operator"]],decls:70,vars:6,consts:[["id","logo"],["id","details"],["src","https://despachomotorizado.pythonanywhere.com/media/images/icon/Logo-original.png","alt","Card image cap",1,"card-img-top"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with heart icon",1,"example-icon","favorite-icon"],[1,"other-spacer"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["opened","","mode","side",1,"mat-elevation-z8"],["sidenav",""],[1,"avatar","mat-elevation-z8",3,"src"],[1,"name"],[1,"designation"],["mat-button","","routerLink","/order",1,"menu-button"],["mat-button","","routerLink","/motorizados",1,"menu-button"],["mat-button","","routerLink","/customersDetails",1,"menu-button"],["mat-button","",1,"menu-button"],[1,"content","mat-elevation-z8"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-toolbar"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r._UZ(3,"img",2),r.qZA(),r.qZA(),r.TgZ(4,"button",3),r.NdJ("click",function(){return r.CHM(t),r.MAs(34).toggle()}),r.TgZ(5,"mat-icon"),r._uU(6,"menu"),r.qZA(),r.qZA(),r._UZ(7,"span",4),r.TgZ(8,"button",5),r.TgZ(9,"mat-icon"),r._uU(10,"notifications"),r.qZA(),r.qZA(),r.TgZ(11,"mat-icon"),r._uU(12,"account_circle"),r.qZA(),r._UZ(13,"span",6),r.TgZ(14,"div"),r.TgZ(15,"span"),r._uU(16),r.qZA(),r.qZA(),r.TgZ(17,"button",7),r.TgZ(18,"mat-icon"),r._uU(19,"arrow_drop_down"),r.qZA(),r.qZA(),r.TgZ(20,"mat-menu",null,8),r.TgZ(22,"button",9),r.NdJ("click",function(){return e.cerrarSesion()}),r.TgZ(23,"mat-icon"),r._uU(24,"exit_to_app"),r.qZA(),r.TgZ(25,"span"),r._uU(26,"Cerrar sesi\xf3n"),r.qZA(),r.qZA(),r.TgZ(27,"button",10),r.TgZ(28,"mat-icon"),r._uU(29,"more_horiz"),r.qZA(),r.TgZ(30,"span"),r._uU(31,"M\xe1s"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"mat-sidenav-container"),r.TgZ(33,"mat-sidenav",11,12),r._UZ(35,"img",13),r.TgZ(36,"h4",14),r._uU(37),r.qZA(),r.TgZ(38,"p",15),r._uU(39,"Operador"),r.qZA(),r._UZ(40,"mat-divider"),r.TgZ(41,"button",16),r.TgZ(42,"mat-icon"),r._uU(43,"home"),r.qZA(),r.TgZ(44,"span"),r._uU(45,"Locales"),r.qZA(),r.qZA(),r.TgZ(46,"button",16),r.TgZ(47,"mat-icon"),r._uU(48,"receipt"),r.qZA(),r.TgZ(49,"span"),r._uU(50,"Pedidos"),r.qZA(),r.qZA(),r.TgZ(51,"button",17),r.TgZ(52,"mat-icon"),r._uU(53,"local_taxi"),r.qZA(),r.TgZ(54,"span"),r._uU(55,"Motorizados"),r.qZA(),r.qZA(),r.TgZ(56,"button",18),r.TgZ(57,"mat-icon"),r._uU(58,"people"),r.qZA(),r.TgZ(59,"span"),r._uU(60,"Clientes"),r.qZA(),r.qZA(),r._UZ(61,"mat-divider"),r.TgZ(62,"button",19),r.TgZ(63,"mat-icon"),r._uU(64,"help"),r.qZA(),r.TgZ(65,"span"),r._uU(66,"Ayuda"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"mat-sidenav-content"),r.TgZ(68,"div",20),r._UZ(69,"router-outlet"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.MAs(21);r.xp6(16),r.AsE("",e.user.first_name," ",e.user.last_name,""),r.xp6(1),r.Q6J("matMenuTriggerFor",t),r.xp6(18),r.s9C("src",e.user.profile_pic,r.LSH),r.xp6(2),r.AsE("",e.user.first_name," ",e.user.last_name,"")}},directives:[d.Ye,l.lW,u.Hw,g.p6,g.VK,g.OP,p.TM,p.JX,m.d,o.rH,p.Rh,o.lC],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{margin:16px;width:250px;border-right:none;background:#6b2657;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{min-height:calc(100vh - 98px);height:auto;border-radius:10px;margin:16px 16px 16px 32px;display:flex;justify-content:center;font-size:2rem;background-color:#d3d3d3}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 65px)}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{background:#fff;color:#000}#logo[_ngcontent-%COMP%]{background-color:#6b2657;color:#fff;text-align:center;padding:15px;border:25px 75px;width:250px}.other-spacer[_ngcontent-%COMP%]{padding:1px}#details[_ngcontent-%COMP%]{text-align:center;padding:15px;border:25px 75px;width:230px}mat-sidenav-container[_ngcontent-%COMP%]{overflow:hidden!important}.menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}.name[_ngcontent-%COMP%]{margin-top:8px;font-weight:400}.designation[_ngcontent-%COMP%]{margin-top:2px;font-size:.7rem;color:#d3d3d3}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}"]}),t})();var Z=i(5939),f=i(2091),_=i(9517);let b=(()=>{class t{constructor(){this._orderList=[]}saveOrder(t){this._order=t}saveOrderList(t){this._orderList=t}getOrder(){return this._order}getOrderList(){return this._orderList}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=i(7023);function A(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," ID "),r.qZA())}function T(t,e){if(1&t&&(r.TgZ(0,"td",15),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij("",t.id," ")}}function q(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Restaurante "),r.qZA())}function C(t,e){if(1&t&&(r.TgZ(0,"td",15),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.local.name," ")}}function v(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Ubicaci\xf3n del restaurante "),r.qZA())}function U(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r._uU(1),r.TgZ(2,"button",16),r.NdJ("click",function(){const e=r.CHM(t).$implicit,i=r.oxw(),n=r.MAs(23);return i.openMap(n,e.local.location_id.longitude,e.local.location_id.latitude)}),r.TgZ(3,"mat-icon",17),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.local.location_id.reference," ")}}function O(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Ubicaci\xf3n de destino "),r.qZA())}function y(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r._uU(1),r.TgZ(2,"button",18),r.NdJ("click",function(){const e=r.CHM(t).$implicit,i=r.oxw(),n=r.MAs(23);return i.openMap(n,e.destiny_loc.longitude,e.destiny_loc.latitude)}),r.TgZ(3,"mat-icon",17),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.destiny_loc.reference," ")}}function w(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," M\xe1s "),r.qZA())}function M(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r.TgZ(1,"button",19),r.NdJ("click",function(){const e=r.CHM(t).$implicit,i=r.oxw(),n=r.MAs(25);return i.open(n,e.id)}),r.TgZ(2,"mat-icon",17),r._uU(3,"reorder"),r.qZA(),r.qZA(),r.qZA()}}function k(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Asignaci\xf3n "),r.qZA())}function D(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r.TgZ(1,"button",20),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().redirectToAsign(e)}),r.TgZ(2,"mat-icon",17),r._uU(3,"library_add"),r.qZA(),r.qZA(),r.qZA()}}function S(t,e){1&t&&r._UZ(0,"tr",21)}function P(t,e){1&t&&r._UZ(0,"tr",22)}function N(t,e){1&t&&(r.TgZ(0,"div",23),r._uU(1,"\nNo hay pedidos para asignar\n"),r.qZA())}function z(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",24),r.TgZ(1,"h4",25),r._uU(2,"Mapa"),r.qZA(),r.TgZ(3,"button",26),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",27),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",28),r.TgZ(7,"agm-map",29),r._UZ(8,"agm-marker",30),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(7),r.Q6J("usePanning",!0)("latitude",t.lat)("longitude",t.lng)("zoom",12),r.xp6(1),r.Q6J("latitude",t.lat)("longitude",t.lng)("markerDraggable",!0)}}function Y(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",24),r.TgZ(1,"h4",25),r._uU(2,"Info del pedido"),r.qZA(),r.TgZ(3,"button",26),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",27),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",28),r.TgZ(7,"p"),r._uU(8),r.qZA(),r.TgZ(9,"div",31),r.TgZ(10,"div",32),r.TgZ(11,"strong"),r._uU(12,"Datos del pedido: "),r.qZA(),r._uU(13),r._UZ(14,"br"),r._uU(15," Precio del pedido: $2.0 "),r._UZ(16,"br"),r._uU(17," Precio del encargo: $3. "),r.qZA(),r.TgZ(18,"div",32),r.TgZ(19,"strong"),r._uU(20,"Datos de la empresa: "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(8),r.hij("ID pedido ",t.orderInfo.id,""),r.xp6(5),r.hij(" Detalle: ",t.orderInfo.details," ")}}let I=(()=>{class t{constructor(t,e,i){this.modalService=t,this.repoService=e,this.orderService=i,this.lat=-2.2175001,this.lng=-79.9092901,this.closeResult="",this.displayedColumns=["Id","restaurante","ubicacion","destino","info","asignar"],this.dataSource=new f.by,this.dataonHold=new f.by,this.getOrder=(t,e)=>{this.repoService.getData("api/orders/"+t+"/").toPromise().then(t=>{this.orderInfo=t,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})})},this.getAllOrders=()=>{this.repoService.getData("api/orders/").toPromise().then(t=>{this.dataSource.data=t,this.orderService.saveOrderList(t),console.log(t),console.log("on hold");const e=[];this.dataSource.data.forEach((t,i)=>{1===t.state&&e.push(t)}),this.dataonHold=new f.by(e)})},this.redirectToDetails=t=>{},this.redirectToAsign=t=>{this.orderService.saveOrder(t)},this.redirectToMap=(t,e)=>{}}ngOnInit(){this.getAllOrders()}open(t,e){this.getOrder(e,t)}openMap(t,e,i){this.lat=i,this.lng=e,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b),r.Y36(b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-on-hold"]],decls:26,vars:4,consts:[["mat-table","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","restaurante"],["matColumnDef","ubicacion"],["matColumnDef","destino"],["matColumnDef","info"],["matColumnDef","asignar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["id","center",4,"ngIf"],["mymodal",""],["aux",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warning",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","primary","routerLink","/assignation",3,"click"],["mat-header-row",""],["mat-row",""],["id","center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"usePanning","latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable"],[1,"info-row"],[1,"info-col"]],template:function(t,e){1&t&&(r.TgZ(0,"table",0),r.ynx(1,1),r.YNc(2,A,2,0,"th",2),r.YNc(3,T,2,1,"td",3),r.BQk(),r.ynx(4,4),r.YNc(5,q,2,0,"th",2),r.YNc(6,C,2,1,"td",3),r.BQk(),r.ynx(7,5),r.YNc(8,v,2,0,"th",2),r.YNc(9,U,5,1,"td",3),r.BQk(),r.ynx(10,6),r.YNc(11,O,2,0,"th",2),r.YNc(12,y,5,1,"td",3),r.BQk(),r.ynx(13,7),r.YNc(14,w,2,0,"th",2),r.YNc(15,M,4,0,"td",3),r.BQk(),r.ynx(16,8),r.YNc(17,k,2,0,"th",2),r.YNc(18,D,4,0,"td",3),r.BQk(),r.YNc(19,S,1,0,"tr",9),r.YNc(20,P,1,0,"tr",10),r.qZA(),r.YNc(21,N,2,0,"div",11),r.YNc(22,z,9,7,"ng-template",null,12,r.W1O),r.YNc(24,Y,21,2,"ng-template",null,13,r.W1O)),2&t&&(r.Q6J("dataSource",e.dataonHold),r.xp6(19),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("ngIf",0===e.dataonHold.data.length))},directives:[f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,n.O5,f.ge,f.ev,l.lW,u.Hw,o.rH,f.XQ,f.Gk,x.SA,x.pt],styles:["table[_ngcontent-%COMP%]{padding:35px;border:35vh;margin:1vh;width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:left;max-width:50%;text-align:center!important}agm-map[_ngcontent-%COMP%]{height:300px}#aux[_ngcontent-%COMP%]{position:center}.info-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.info-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;padding:10px}.info-row[_ngcontent-%COMP%]{border:1px solid #000;display:flex}.info-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center}"]}),t})();function R(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," ID "),r.qZA())}function E(t,e){if(1&t&&(r.TgZ(0,"td",15),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.id," ")}}function L(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Restaurante "),r.qZA())}function J(t,e){if(1&t&&(r.TgZ(0,"td",15),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.local.name," ")}}function H(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Ubicaci\xf3n del restaurante "),r.qZA())}function $(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r._uU(1),r.TgZ(2,"button",16),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),i=r.MAs(23);return e.open(i)}),r.TgZ(3,"mat-icon",17),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.destiny_loc.reference," ")}}function j(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Ubicaci\xf3n de destino "),r.qZA())}function Q(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r._uU(1),r.TgZ(2,"button",18),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),i=r.MAs(23);return e.open(i)}),r.TgZ(3,"mat-icon",17),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.destiny_loc.reference," ")}}function F(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," M\xe1s "),r.qZA())}function B(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r.TgZ(1,"button",19),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),i=r.MAs(25);return e.open(i)}),r.TgZ(2,"mat-icon",17),r._uU(3,"reorder"),r.qZA(),r.qZA(),r.qZA()}}function W(t,e){1&t&&(r.TgZ(0,"th",14),r._uU(1," Revocar "),r.qZA())}function X(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",15),r.TgZ(1,"button",20),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().redirectToAsign(e)}),r.TgZ(2,"mat-icon",17),r._uU(3,"remove_circle"),r.qZA(),r.qZA(),r.qZA()}}function K(t,e){1&t&&r._UZ(0,"tr",21)}function V(t,e){1&t&&r._UZ(0,"tr",22)}function G(t,e){1&t&&(r.TgZ(0,"div",23),r._uU(1,"\nNo hay pedidos activos\n"),r.qZA())}function tt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",24),r.TgZ(1,"h4",25),r._uU(2,"Mapa"),r.qZA(),r.TgZ(3,"button",26),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",27),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",28),r.TgZ(7,"agm-map",29),r._UZ(8,"agm-marker",30),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(7),r.Q6J("usePanning",!0)("latitude",t.lat)("longitude",t.lng)("zoom",12),r.xp6(1),r.Q6J("latitude",t.lat)("longitude",t.lng)("markerDraggable",!0)}}function et(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",24),r.TgZ(1,"h4",25),r._uU(2,"Info del pedido"),r.qZA(),r.TgZ(3,"button",26),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",27),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",28),r.TgZ(7,"p"),r._uU(8,"Pedido: ID 1"),r.qZA(),r._uU(9," Detalle: Hamburguesa doble "),r._UZ(10,"br"),r._uU(11," Precio del pedido: $2.0 "),r._UZ(12,"br"),r._uU(13," Precio del encargo: $3.5 "),r.qZA()}}let it=(()=>{class t{constructor(t,e,i){this.modalService=t,this.repoService=e,this.orderService=i,this.lat=-2.2175001,this.lng=-79.9092901,this.closeResult="",this.displayedColumns=["Id","restaurante","ubicacion","destino","info","asignar"],this.dataSource=new f.by,this.dataAssigned=new f.by,this.getAllOrders=()=>{this.repoService.getData("api/orders/").subscribe(t=>{this.dataSource.data=t,this.orderService.saveOrderList(t);const e=[];this.dataSource.data.forEach((t,i)=>{null!==t.motorizado&&2===t.state&&e.push(t)}),this.dataAssigned=new f.by(e)})},this.redirectToDetails=t=>{},this.redirectToAsign=t=>{this.orderService.saveOrder(t)},this.redirectToMap=(t,e)=>{}}ngOnInit(){this.getAllOrders()}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b),r.Y36(b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-assigned"]],decls:26,vars:4,consts:[["mat-table","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","restaurante"],["matColumnDef","ubicacion"],["matColumnDef","destino"],["matColumnDef","info"],["matColumnDef","asignar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["id","center",4,"ngIf"],["mymodal",""],["aux",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warning",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn","routerLink","/revoke",3,"click"],["mat-header-row",""],["mat-row",""],["id","center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"usePanning","latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable"]],template:function(t,e){1&t&&(r.TgZ(0,"table",0),r.ynx(1,1),r.YNc(2,R,2,0,"th",2),r.YNc(3,E,2,1,"td",3),r.BQk(),r.ynx(4,4),r.YNc(5,L,2,0,"th",2),r.YNc(6,J,2,1,"td",3),r.BQk(),r.ynx(7,5),r.YNc(8,H,2,0,"th",2),r.YNc(9,$,5,1,"td",3),r.BQk(),r.ynx(10,6),r.YNc(11,j,2,0,"th",2),r.YNc(12,Q,5,1,"td",3),r.BQk(),r.ynx(13,7),r.YNc(14,F,2,0,"th",2),r.YNc(15,B,4,0,"td",3),r.BQk(),r.ynx(16,8),r.YNc(17,W,2,0,"th",2),r.YNc(18,X,4,0,"td",3),r.BQk(),r.YNc(19,K,1,0,"tr",9),r.YNc(20,V,1,0,"tr",10),r.qZA(),r.YNc(21,G,2,0,"div",11),r.YNc(22,tt,9,7,"ng-template",null,12,r.W1O),r.YNc(24,et,14,0,"ng-template",null,13,r.W1O)),2&t&&(r.Q6J("dataSource",e.dataAssigned),r.xp6(19),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("ngIf",0===e.dataAssigned.data.length))},directives:[f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,n.O5,f.ge,f.ev,l.lW,u.Hw,o.rH,f.XQ,f.Gk,x.SA,x.pt],styles:["table[_ngcontent-%COMP%]{padding:35px;border:35vh;margin:1vh;width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:left;max-width:50%;text-align:center!important}agm-map[_ngcontent-%COMP%]{height:300px}#aux[_ngcontent-%COMP%]{position:center}"]}),t})();var nt=i(6304),ot=i(7841),at=(i(6705),i(8002)),rt=i(8502);let st=(()=>{class t{constructor(t){this.afs=t,this.idOperador=37}addChatMessage(t,e){var i=this;return(0,nt.Z)(function*(){const n=ot.Z.firestore.FieldValue.serverTimestamp();return yield i.afs.doc("messages_chat/"+e.motorizado.user_id.id+"_"+i.idOperador).set({idMotorizado:e.motorizado.user_id.id,idOperador:i.idOperador,lastMessageDate:n},{merge:!0}),i.afs.collection(`messages_chat/${e.motorizado.user_id.id+"_"+i.idOperador}/messages`).add({msg:t,from:Number(i.idOperador),createdAt:n})})()}getChatMessages(t){return this.afs.collection(`messages_chat/${t.motorizado.user_id.id+"_"+this.idOperador}/messages`,t=>t.orderBy("createdAt","asc")).valueChanges({idField:"id"}).pipe((0,at.U)(t=>(t.forEach(t=>{console.log(t),t.fromName=this.getUserForMsg(Number(t.from)),t.myMsg=Number(t.from)===this.idOperador}),t)))}getUserForMsg(t){return t===this.idOperador?"Operador":"Otro"}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rt.ST))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ct=i(3679);function dt(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," ID "),r.qZA())}function lt(t,e){if(1&t&&(r.TgZ(0,"td",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.id," ")}}function ut(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," Restaurante "),r.qZA())}function gt(t,e){if(1&t&&(r.TgZ(0,"td",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.local.name," ")}}function pt(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," Ubicaci\xf3n del restaurante "),r.qZA())}function mt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",18),r._uU(1),r.TgZ(2,"button",19),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),i=r.MAs(29);return e.open(i)}),r.TgZ(3,"mat-icon",20),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.destiny_loc.reference," ")}}function ht(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," Ubicaci\xf3n de destino "),r.qZA())}function Zt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",18),r._uU(1),r.TgZ(2,"button",21),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),i=r.MAs(29);return e.open(i)}),r.TgZ(3,"mat-icon",20),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.destiny_loc.reference," ")}}function ft(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," Estado "),r.qZA())}function _t(t,e){if(1&t&&(r.TgZ(0,"td",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",3==t.state?"Aceptado":4==t.state?"Recogiendo":"Entregando"," ")}}function bt(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," M\xe1s "),r.qZA())}function xt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",18),r.TgZ(1,"button",22),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),i=r.MAs(31);return e.open(i)}),r.TgZ(2,"mat-icon",20),r._uU(3,"reorder"),r.qZA(),r.qZA(),r.qZA()}}function At(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," Chat "),r.qZA())}function Tt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",18),r.TgZ(1,"button",22),r.NdJ("click",function(){const e=r.CHM(t).$implicit,i=r.oxw(),n=r.MAs(33);return i.openChat(n,e)}),r.TgZ(2,"mat-icon",20),r._uU(3,"chat"),r.qZA(),r.qZA(),r.qZA()}}function qt(t,e){1&t&&(r.TgZ(0,"th",17),r._uU(1," Revocar "),r.qZA())}function Ct(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"td",18),r.TgZ(1,"button",23),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().redirectToAsign(e)}),r.TgZ(2,"mat-icon",20),r._uU(3,"remove_circle"),r.qZA(),r.qZA(),r.qZA()}}function vt(t,e){1&t&&r._UZ(0,"tr",24)}function Ut(t,e){1&t&&r._UZ(0,"tr",25)}function Ot(t,e){1&t&&(r.TgZ(0,"div",26),r._uU(1," No hay pedidos activos\n"),r.qZA())}function yt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",27),r.TgZ(1,"h4",28),r._uU(2,"Mapa"),r.qZA(),r.TgZ(3,"button",29),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",30),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",31),r.TgZ(7,"agm-map",32),r._UZ(8,"agm-marker",33),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(7),r.Q6J("usePanning",!0)("latitude",t.lat)("longitude",t.lng)("zoom",12),r.xp6(1),r.Q6J("latitude",t.lat)("longitude",t.lng)("markerDraggable",!0)}}function wt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",27),r.TgZ(1,"h4",28),r._uU(2,"Info del pedido"),r.qZA(),r.TgZ(3,"button",29),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",30),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",31),r.TgZ(7,"p"),r._uU(8,"Pedido: ID 1"),r.qZA(),r._uU(9," Detalle: Hamburguesa doble "),r._UZ(10,"br"),r._uU(11," Precio del pedido: $2.0 "),r._UZ(12,"br"),r._uU(13," Precio del encargo: $3.5 "),r.qZA()}}const Mt=function(t){return{"justify-end":t}},kt=function(t,e){return{"my-message":t,"other-message":e}};function Dt(t,e){if(1&t&&(r.TgZ(0,"div",38),r.TgZ(1,"div",39),r.TgZ(2,"div",40),r.TgZ(3,"span"),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.Q6J("ngClass",r.VKq(3,Mt,t.myMsg)),r.xp6(2),r.Q6J("ngClass",r.WLB(5,kt,t.myMsg,!t.myMsg)),r.xp6(2),r.Oqu(t.msg)}}function St(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",27),r.TgZ(1,"h4",28),r._uU(2,"chat"),r.qZA(),r.TgZ(3,"button",29),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",30),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",31),r.YNc(7,Dt,5,8,"div",34),r.ALo(8,"async"),r.TgZ(9,"div",35),r.TgZ(10,"textarea",36),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().newMsg=e}),r.qZA(),r.TgZ(11,"mat-icon",37),r.NdJ("click",function(){r.CHM(t);const e=r.oxw();return e.sendMessage(e.ordenChat)}),r._uU(12,"send"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(7),r.Q6J("ngForOf",r.lcZ(8,2,t.messages)),r.xp6(3),r.Q6J("ngModel",t.newMsg)}}let Pt=(()=>{class t{constructor(t,e,i,n){this.modalService=t,this.repoService=e,this.orderService=i,this.chatService=n,this.lat=-2.2175001,this.lng=-79.9092901,this.closeResult="",this.newMsg="",this.displayedColumns=["Id","restaurante","ubicacion","destino","estado","info","chat","asignar"],this.dataSource=new f.by,this.dataActive=new f.by,this.getAllOrders=()=>{this.repoService.getData("api/orders/").subscribe(t=>{this.dataSource.data=t,this.orderService.saveOrderList(t);const e=[];this.dataSource.data.forEach((t,i)=>{null!==t.motorizado&&(3!==t.state&&4!==t.state&&5!==t.state||e.push(t))}),this.dataActive=new f.by(e)})},this.redirectToDetails=t=>{},this.redirectToAsign=t=>{this.orderService.saveOrder(t)},this.redirectToMap=(t,e)=>{}}ngOnInit(){this.getAllOrders()}openChat(t,e){var i=this;return(0,nt.Z)(function*(){i.messages=i.chatService.getChatMessages(e),i.ordenChat=e,i.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{i.closeResult=`Closed with: ${t}`},t=>{i.closeResult=`Dismissed ${i.getDismissReason(t)}`}),console.log(e)})()}sendMessage(t){this.chatService.addChatMessage(this.newMsg,t).then(()=>{this.newMsg=""})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b),r.Y36(b),r.Y36(st))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-active"]],decls:34,vars:4,consts:[["mat-table","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","restaurante"],["matColumnDef","ubicacion"],["matColumnDef","destino"],["matColumnDef","estado"],["matColumnDef","info"],["matColumnDef","chat"],["matColumnDef","asignar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["id","center",4,"ngIf"],["mymodal",""],["aux",""],["chatmodal",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warning",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn","routerLink","/revoke",3,"click"],["mat-header-row",""],["mat-row",""],["id","center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"usePanning","latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable"],["class","chat-row",3,"ngClass",4,"ngFor","ngForOf"],[1,"input-row"],["placeholder","Inicie a escribir aqu\xed...","autoGrow","true","rows","1","maxLength","100",1,"message-input",3,"ngModel","ngModelChange"],[1,"mat-18",3,"click"],[1,"chat-row",3,"ngClass"],[1,"chat-container"],[1,"message",3,"ngClass"]],template:function(t,e){1&t&&(r.TgZ(0,"table",0),r.ynx(1,1),r.YNc(2,dt,2,0,"th",2),r.YNc(3,lt,2,1,"td",3),r.BQk(),r.ynx(4,4),r.YNc(5,ut,2,0,"th",2),r.YNc(6,gt,2,1,"td",3),r.BQk(),r.ynx(7,5),r.YNc(8,pt,2,0,"th",2),r.YNc(9,mt,5,1,"td",3),r.BQk(),r.ynx(10,6),r.YNc(11,ht,2,0,"th",2),r.YNc(12,Zt,5,1,"td",3),r.BQk(),r.ynx(13,7),r.YNc(14,ft,2,0,"th",2),r.YNc(15,_t,2,1,"td",3),r.BQk(),r.ynx(16,8),r.YNc(17,bt,2,0,"th",2),r.YNc(18,xt,4,0,"td",3),r.BQk(),r.ynx(19,9),r.YNc(20,At,2,0,"th",2),r.YNc(21,Tt,4,0,"td",3),r.BQk(),r.ynx(22,10),r.YNc(23,qt,2,0,"th",2),r.YNc(24,Ct,4,0,"td",3),r.BQk(),r.YNc(25,vt,1,0,"tr",11),r.YNc(26,Ut,1,0,"tr",12),r.qZA(),r.YNc(27,Ot,2,0,"div",13),r.YNc(28,yt,9,7,"ng-template",null,14,r.W1O),r.YNc(30,wt,14,0,"ng-template",null,15,r.W1O),r.YNc(32,St,13,4,"ng-template",null,16,r.W1O)),2&t&&(r.Q6J("dataSource",e.dataActive),r.xp6(25),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("ngIf",0===e.dataActive.data.length))},directives:[f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,n.O5,f.ge,f.ev,l.lW,u.Hw,o.rH,f.XQ,f.Gk,x.SA,x.pt,n.sg,ct.Fj,ct.JJ,ct.On,n.mk],pipes:[n.Ov],styles:["table[_ngcontent-%COMP%]{padding:35px;border:35vh;margin:1vh;width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:left;max-width:50%;text-align:center!important}agm-map[_ngcontent-%COMP%]{height:300px}#aux[_ngcontent-%COMP%]{position:center}[_ngcontent-%COMP%]:root{--ion-color-primary:#f26623;--ion-color-light:#fff;--enable-color:#7b67fb}.my-message[_ngcontent-%COMP%]{background-color:#7b67fb;color:#fff}.other-message[_ngcontent-%COMP%]{background-color:#dfdfdf;color:#f26623}.message[_ngcontent-%COMP%]{padding:5px 10px;text-align:left;font-size:.6rem;border-radius:20px;white-space:pre-wrap}.chat-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:70%;margin-top:10px;margin-bottom:10px}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}"]}),t})();function Nt(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," ID "),r.qZA())}function zt(t,e){if(1&t&&(r.TgZ(0,"td",12),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.id," ")}}function Yt(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," Restaurante "),r.qZA())}function It(t,e){if(1&t&&(r.TgZ(0,"td",12),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.local.name," ")}}function Rt(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," Ubicaci\xf3n del restaurante "),r.qZA())}function Et(t,e){if(1&t&&(r.TgZ(0,"td",12),r._uU(1),r.TgZ(2,"button",13),r.TgZ(3,"mat-icon",14),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.destiny_loc.reference," ")}}function Lt(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," M\xe1s "),r.qZA())}function Jt(t,e){1&t&&(r.TgZ(0,"td",12),r.TgZ(1,"button",15),r.TgZ(2,"mat-icon",14),r._uU(3,"reorder"),r.qZA(),r.qZA(),r.qZA())}function Ht(t,e){1&t&&r._UZ(0,"tr",16)}function $t(t,e){1&t&&r._UZ(0,"tr",17)}function jt(t,e){1&t&&(r.TgZ(0,"div",18),r._uU(1," No hay pedidos entregados\n"),r.qZA())}function Qt(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",19),r.TgZ(1,"h4",20),r._uU(2,"Info del pedido"),r.qZA(),r.TgZ(3,"button",21),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",22),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",23),r.TgZ(7,"p"),r._uU(8,"Pedido: ID 1"),r.qZA(),r._uU(9," Detalle: Hamburguesa doble "),r._UZ(10,"br"),r._uU(11," Precio del pedido: $2.0 "),r._UZ(12,"br"),r._uU(13," Precio del encargo: $3.5 "),r.qZA()}}let Ft=(()=>{class t{constructor(t,e,i){this.modalService=t,this.repoService=e,this.orderService=i,this.displayedColumns=["Id","restaurante","ubicacion","info"],this.dataSource=new f.by,this.dataDelivered=new f.by,this.closeResult="",this.getAllOrders=()=>{this.repoService.getData("api/orders/").subscribe(t=>{this.dataSource.data=t,this.orderService.saveOrderList(t);const e=[];this.dataSource.data.forEach((t,i)=>{null!==t.motorizado&&6===t.state&&e.push(t)}),this.dataDelivered=new f.by(e)})}}ngOnInit(){this.getAllOrders()}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b),r.Y36(b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-delivered"]],decls:18,vars:4,consts:[["mat-table","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","restaurante"],["matColumnDef","ubicacion"],["matColumnDef","info"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["id","center",4,"ngIf"],["aux",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button",""],[1,"mat-18"],["mat-icon-button","","color","accent"],["mat-header-row",""],["mat-row",""],["id","center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"]],template:function(t,e){1&t&&(r.TgZ(0,"table",0),r.ynx(1,1),r.YNc(2,Nt,2,0,"th",2),r.YNc(3,zt,2,1,"td",3),r.BQk(),r.ynx(4,4),r.YNc(5,Yt,2,0,"th",2),r.YNc(6,It,2,1,"td",3),r.BQk(),r.ynx(7,5),r.YNc(8,Rt,2,0,"th",2),r.YNc(9,Et,5,1,"td",3),r.BQk(),r.ynx(10,6),r.YNc(11,Lt,2,0,"th",2),r.YNc(12,Jt,4,0,"td",3),r.BQk(),r.YNc(13,Ht,1,0,"tr",7),r.YNc(14,$t,1,0,"tr",8),r.qZA(),r.YNc(15,jt,2,0,"div",9),r.YNc(16,Qt,14,0,"ng-template",null,10,r.W1O)),2&t&&(r.Q6J("dataSource",e.dataDelivered),r.xp6(13),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("ngIf",0===e.dataDelivered.data.length))},directives:[f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,n.O5,f.ge,f.ev,l.lW,u.Hw,f.XQ,f.Gk],styles:["table[_ngcontent-%COMP%]{padding:35px;border:35vh;margin:1vh;width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:left;max-width:50%;text-align:center!important}"]}),t})();function Bt(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," ID "),r.qZA())}function Wt(t,e){if(1&t&&(r.TgZ(0,"td",12),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.Id," ")}}function Xt(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," Restaurante "),r.qZA())}function Kt(t,e){if(1&t&&(r.TgZ(0,"td",12),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.restaurante," ")}}function Vt(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," Ubicaci\xf3n del restaurante "),r.qZA())}function Gt(t,e){if(1&t&&(r.TgZ(0,"td",12),r._uU(1),r.TgZ(2,"button",13),r.TgZ(3,"mat-icon",14),r._uU(4,"location_on"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.ubicacion," ")}}function te(t,e){1&t&&(r.TgZ(0,"th",11),r._uU(1," M\xe1s "),r.qZA())}function ee(t,e){1&t&&(r.TgZ(0,"td",12),r.TgZ(1,"button",15),r.TgZ(2,"mat-icon",14),r._uU(3,"reorder"),r.qZA(),r.qZA(),r.qZA())}function ie(t,e){1&t&&r._UZ(0,"tr",16)}function ne(t,e){1&t&&r._UZ(0,"tr",17)}function oe(t,e){1&t&&(r.TgZ(0,"div",18),r._uU(1," No hay pedidos cancelados\n"),r.qZA())}function ae(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",19),r.TgZ(1,"h4",20),r._uU(2,"Info del pedido"),r.qZA(),r.TgZ(3,"button",21),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",22),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",23),r.TgZ(7,"p"),r._uU(8,"Pedido: ID 1"),r.qZA(),r._uU(9," Detalle: Hamburguesa doble "),r._UZ(10,"br"),r._uU(11," Precio del pedido: $2.0 "),r._UZ(12,"br"),r._uU(13," Precio del encargo: $3.5 "),r.qZA()}}let re=(()=>{class t{constructor(t,e,i){this.modalService=t,this.repoService=e,this.orderService=i,this.displayedColumns=["Id","restaurante","ubicacion","info"],this.dataSource=new f.by,this.dataCancelled=new f.by,this.closeResult="",this.getAllOrders=()=>{this.repoService.getData("api/orders/").subscribe(t=>{this.dataSource.data=t,this.orderService.saveOrderList(t);const e=[];this.dataSource.data.forEach((t,i)=>{null!==t.motorizado&&7===t.state&&e.push(t)}),this.dataCancelled=new f.by(e)})}}ngOnInit(){}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b),r.Y36(b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-canceled"]],decls:18,vars:4,consts:[["mat-table","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","restaurante"],["matColumnDef","ubicacion"],["matColumnDef","info"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["id","center",4,"ngIf"],["aux",""],["mat-header-cell",""],["mat-cell",""],["mat-icon-button",""],[1,"mat-18"],["mat-icon-button","","color","accent"],["mat-header-row",""],["mat-row",""],["id","center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"]],template:function(t,e){1&t&&(r.TgZ(0,"table",0),r.ynx(1,1),r.YNc(2,Bt,2,0,"th",2),r.YNc(3,Wt,2,1,"td",3),r.BQk(),r.ynx(4,4),r.YNc(5,Xt,2,0,"th",2),r.YNc(6,Kt,2,1,"td",3),r.BQk(),r.ynx(7,5),r.YNc(8,Vt,2,0,"th",2),r.YNc(9,Gt,5,1,"td",3),r.BQk(),r.ynx(10,6),r.YNc(11,te,2,0,"th",2),r.YNc(12,ee,4,0,"td",3),r.BQk(),r.YNc(13,ie,1,0,"tr",7),r.YNc(14,ne,1,0,"tr",8),r.qZA(),r.YNc(15,oe,2,0,"div",9),r.YNc(16,ae,14,0,"ng-template",null,10,r.W1O)),2&t&&(r.Q6J("dataSource",e.dataCancelled),r.xp6(13),r.Q6J("matHeaderRowDef",e.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",e.displayedColumns),r.xp6(1),r.Q6J("ngIf",0===e.dataCancelled.data.length))},directives:[f.BZ,f.w1,f.fO,f.Dz,f.as,f.nj,n.O5,f.ge,f.ev,l.lW,u.Hw,f.XQ,f.Gk],styles:["table[_ngcontent-%COMP%]{padding:35px;border:35vh;margin:1vh;width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:left;max-width:50%;text-align:center!important}"]}),t})();function se(t,e){1&t&&(r._uU(0," En espera "),r._UZ(1,"br"))}function ce(t,e){1&t&&(r._uU(0," Asignados "),r._UZ(1,"br"))}function de(t,e){1&t&&(r._uU(0," Activos "),r._UZ(1,"br"))}function le(t,e){1&t&&(r._uU(0," Entregados "),r._UZ(1,"br"))}function ue(t,e){1&t&&(r._uU(0," Cancelados "),r._UZ(1,"br"))}let ge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-order"]],decls:20,vars:1,consts:[[1,"other-spacer"],[1,"text-center","my-3","py-3"],[1,"text-center","my-3","py-3",3,"selectedIndex"],["mat-tab-label",""]],template:function(t,e){1&t&&(r.TgZ(0,"section"),r._UZ(1,"span",0),r.TgZ(2,"h1",1),r._uU(3,"Informaci\xf3n de pedidos"),r.qZA(),r.TgZ(4,"mat-tab-group",2),r.TgZ(5,"mat-tab"),r.YNc(6,se,2,0,"ng-template",3),r._UZ(7,"app-on-hold"),r.qZA(),r.TgZ(8,"mat-tab"),r.YNc(9,ce,2,0,"ng-template",3),r._UZ(10,"app-assigned"),r.qZA(),r.TgZ(11,"mat-tab"),r.YNc(12,de,2,0,"ng-template",3),r._UZ(13,"app-active"),r.qZA(),r.TgZ(14,"mat-tab"),r.YNc(15,le,2,0,"ng-template",3),r._UZ(16,"app-delivered"),r.qZA(),r.TgZ(17,"mat-tab"),r.YNc(18,ue,2,0,"ng-template",3),r._UZ(19,"app-canceled"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Q6J("selectedIndex",0))},directives:[Z.SP,Z.uX,Z.uD,I,it,Pt,Ft,re],styles:["[_nghost-%COMP%]     .mat-tab-label{width:100%;justify-content:center}mat-tab-group[_ngcontent-%COMP%]{width:calc(100vw - 350px)}"]}),t})(),pe=(()=>{class t{constructor(t){this.db=t,this.dbPath="/motorizados",this.locationsRef=t.collection(this.dbPath)}getAll(){return this.locationsRef}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rt.ST))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var me=i(9490),he=i(9765),Ze=i(5319),fe=i(8345);const _e=new r.OlP("CdkAccordion");let be=0,xe=(()=>{class t{constructor(t,e,i){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=i,this._openCloseAllSubscription=Ze.w.EMPTY,this.closed=new r.vpe,this.opened=new r.vpe,this.destroyed=new r.vpe,this.expandedChange=new r.vpe,this.id="cdk-accordion-child-"+be++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=(0,me.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,me.Ig)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_e,12),r.Y36(r.sBO),r.Y36(fe.A8))},t.\u0275dir=r.lG2({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[r._Bn([{provide:_e,useValue:void 0}])]}),t})(),Ae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var Te=i(7636),qe=i(2458),Ce=i(9238),ve=i(7519),Ue=i(9761),Oe=i(5435),ye=i(5257),we=i(6461),Me=i(6237),ke=i(9193),De=i(6682),Se=i(7238);const Pe=["body"];function Ne(t,e){}const ze=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ye=["mat-expansion-panel-header","*","mat-action-row"];function Ie(t,e){if(1&t&&r._UZ(0,"span",2),2&t){const t=r.oxw();r.Q6J("@indicatorRotate",t._getExpandedState())}}const Re=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Ee=["mat-panel-title","mat-panel-description","*"],Le=new r.OlP("MAT_ACCORDION"),Je="225ms cubic-bezier(0.4,0.0,0.2,1)",He={indicatorRotate:(0,Se.X$)("indicatorRotate",[(0,Se.SB)("collapsed, void",(0,Se.oB)({transform:"rotate(0deg)"})),(0,Se.SB)("expanded",(0,Se.oB)({transform:"rotate(180deg)"})),(0,Se.eR)("expanded <=> collapsed, void => collapsed",(0,Se.jt)(Je))]),bodyExpansion:(0,Se.X$)("bodyExpansion",[(0,Se.SB)("collapsed, void",(0,Se.oB)({height:"0px",visibility:"hidden"})),(0,Se.SB)("expanded",(0,Se.oB)({height:"*",visibility:"visible"})),(0,Se.eR)("expanded <=> collapsed, void => collapsed",(0,Se.jt)(Je))])};let $e=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),je=0;const Qe=new r.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Fe=(()=>{class t extends xe{constructor(t,e,i,n,o,a,s){super(t,e,i),this._viewContainerRef=n,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new r.vpe,this.afterCollapse=new r.vpe,this._inputChanges=new he.xQ,this._headerId="mat-expansion-panel-header-"+je++,this._bodyAnimationDone=new he.xQ,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe((0,ve.x)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),s&&(this.hideToggle=s.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=(0,me.Ig)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,Ue.O)(null),(0,Oe.h)(()=>this.expanded&&!this._portal),(0,ye.q)(1)).subscribe(()=>{this._portal=new Te.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Le,12),r.Y36(r.sBO),r.Y36(fe.A8),r.Y36(r.s_b),r.Y36(n.K0),r.Y36(Me.Qb,8),r.Y36(Qe,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,i){if(1&t&&r.Suo(i,$e,5),2&t){let t;r.iGM(t=r.CRH())&&(e._lazyContent=t.first)}},viewQuery:function(t,e){if(1&t&&r.Gf(Pe,5),2&t){let t;r.iGM(t=r.CRH())&&(e._body=t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&r.ekj("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[r._Bn([{provide:Le,useValue:void 0}]),r.qOj,r.TTD],ngContentSelectors:Ye,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(r.F$t(ze),r.Hsn(0),r.TgZ(1,"div",0,1),r.NdJ("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),r.TgZ(3,"div",2),r.Hsn(4,1),r.YNc(5,Ne,0,0,"ng-template",3),r.qZA(),r.Hsn(6,2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("@bodyExpansion",e._getExpandedState())("id",e.id),r.uIk("aria-labelledby",e._headerId),r.xp6(4),r.Q6J("cdkPortalOutlet",e._portal))},directives:[Te.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[He.bodyExpansion]},changeDetection:0}),t})();class Be{}const We=(0,qe.sb)(Be);let Xe=(()=>{class t extends We{constructor(t,e,i,n,o,a,r){super(),this.panel=t,this._element=e,this._focusMonitor=i,this._changeDetectorRef=n,this._animationMode=a,this._parentChangeSubscription=Ze.w.EMPTY;const s=t.accordion?t.accordion._stateChanges.pipe((0,Oe.h)(t=>!(!t.hideToggle&&!t.togglePosition))):ke.E;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=(0,De.T)(t.opened,t.closed,s,t._inputChanges.pipe((0,Oe.h)(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,Oe.h)(()=>t._containsFocus())).subscribe(()=>i.focusVia(e,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case we.L_:case we.K5:(0,we.Vb)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,e){t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Fe,1),r.Y36(r.SBq),r.Y36(Ce.tE),r.Y36(r.sBO),r.Y36(Qe,8),r.Y36(Me.Qb,8),r.$8M("tabindex"))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e._toggle()})("keydown",function(t){return e._keydown(t)}),2&t&&(r.uIk("id",e.panel._headerId)("tabindex",e.tabIndex)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),r.Udp("height",e._getHeaderHeight()),r.ekj("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[r.qOj],ngContentSelectors:Ee,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(r.F$t(Re),r.TgZ(0,"span",0),r.Hsn(1),r.Hsn(2,1),r.Hsn(3,2),r.qZA(),r.YNc(4,Ie,1,1,"span",1)),2&t&&(r.xp6(4),r.Q6J("ngIf",e._showToggle()))},directives:[n.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}\n'],encapsulation:2,data:{animation:[He.indicatorRotate]},changeDetection:0}),t})(),Ke=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),t})(),Ve=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,qe.BQ,Ae,Te.eL]]}),t})();var ti=i(3738);function ei(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",9),r.TgZ(1,"h4",10),r._uU(2,"Datos"),r.qZA(),r.TgZ(3,"button",11),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",12),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",13),r.TgZ(7,"div",14),r.TgZ(8,"div",14),r.TgZ(9,"div",15),r._UZ(10,"img",16),r.TgZ(11,"div",14),r.TgZ(12,"span"),r.TgZ(13,"strong"),r._uU(14,"Nombre: "),r.qZA(),r._uU(15),r.qZA(),r.TgZ(16,"span"),r.TgZ(17,"strong"),r._uU(18,"Estado: "),r.qZA(),r._uU(19),r.qZA(),r.TgZ(20,"span"),r.TgZ(21,"strong"),r._uU(22,"Ubicaci\xf3n: "),r.qZA(),r._uU(23),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",17),r.TgZ(25,"button",18),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).assingAndChangeMotoState()}),r._uU(26," Asignar "),r.qZA(),r.TgZ(27,"button",19),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r._uU(28," Cancelar "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.xp6(10),r.s9C("src",t.motorizado.user_id.profile_pic,r.LSH),r.xp6(5),r.hij("",t.motorizado.user_id.first_name+" "+t.motorizado.user_id.last_name," "),r.xp6(4),r.hij("",t.motorizado.is_busy?"No Disponible":"Disponible"," "),r.xp6(4),r.hij("",t.motorizado.user_id.home_loc.reference," ")}}function ii(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r._UZ(1,"mat-card",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"mat-card-header"),r._UZ(5,"img",4),r.TgZ(6,"mat-card-title"),r._uU(7),r.qZA(),r.TgZ(8,"mat-card-subtitle"),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-header"),r.TgZ(11,"mat-card-title"),r._uU(12),r.qZA(),r.TgZ(13,"mat-card-subtitle"),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"button",5),r._uU(16),r.qZA(),r.TgZ(17,"button",6),r.TgZ(18,"mat-icon"),r._uU(19,"chat"),r.qZA(),r.qZA(),r.TgZ(20,"button",7),r.NdJ("click",function(){r.CHM(t);const e=r.MAs(23);return r.oxw().open(e)}),r._uU(21," Asignar "),r.qZA(),r.qZA(),r.YNc(22,ei,29,4,"ng-template",null,8,r.W1O),r.qZA()}if(2&t){const t=r.oxw();r.xp6(5),r.s9C("src",t.motorizado.user_id.profile_pic,r.LSH),r.xp6(2),r.AsE("",t.motorizado.user_id.first_name," ",t.motorizado.user_id.last_name,""),r.xp6(2),r.hij("ID: ",t.motorizado.user_id.id,""),r.xp6(3),r.hij(" ",t.motorizado.user_id.home_loc.reference," "),r.xp6(2),r.hij(" ",t.motorizado.user_id.home_loc.reference," "),r.xp6(1),r.s9C("color",t.motorizado.is_busy?"warn":"primary"),r.xp6(1),r.hij(" ",t.motorizado.is_busy?"NO DISPONIBLE":"DISPONIBLE"," ")}}let ni=(()=>{class t{constructor(t,e,i,n){this.modalService=t,this.repoService=e,this.orderService=i,this.chatService=n,this.motorizado={},this._allMotorizados="api/mot_user",this.closeResult="",this.mostrar=!1,this.getMotorizado=()=>{this.repoService.getData(this._allMotorizados+"/"+this.motorizadoID+"/").toPromise().then(t=>{this.motorizado=t,this.mostrar=!0})}}ngOnInit(){var t=this;return(0,nt.Z)(function*(){yield t.getMotorizado()})()}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}assingAndChangeMotoState(){this.repoService.updatePatch(`api/order/assign/${this.orderService.getOrder().id}`,{motorizado:this.motorizado.user_id.id,operador:this.chatService.idOperador}).subscribe(t=>{this.orderService.getOrder().state=2,this.motorizado.is_busy=!0,this.modalService.dismissAll()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b),r.Y36(b),r.Y36(st))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-user-element"]],inputs:{motorizadoID:"motorizadoID"},decls:1,vars:1,consts:[[4,"ngIf"],[2,"display","none"],[1,"user-element"],[1,"avatar-photo"],["mat-card-avatar","",3,"src"],["mat-raised-button","",3,"color"],["mat-icon-button",""],["mat-raised-button","","color","accent",3,"click"],["mymodal",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"info-col"],[1,"info-row"],["alt","",3,"src"],[1,"info-row","butons-info"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&r.YNc(0,ii,24,8,"div",0),2&t&&r.Q6J("ngIf",e.mostrar)},directives:[n.O5,ti.a8,ti.dk,ti.kc,ti.n5,ti.$j,l.lW,u.Hw],styles:[".user-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;align-items:center;justify-items:center;padding:10px}.avatar-photo[_ngcontent-%COMP%]{justify-self:baseline}.info-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.info-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;padding:10px}.info-col[_ngcontent-%COMP%], .info-row[_ngcontent-%COMP%]{display:flex}.info-col[_ngcontent-%COMP%]{flex-direction:column;align-content:center}.butons-info[_ngcontent-%COMP%]{justify-content:center}.butons-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]}),t})();function oi(t,e){if(1&t&&(r.TgZ(0,"agm-marker",8),r.TgZ(1,"agm-info-window",null,6),r._uU(3),r._UZ(4,"br"),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.Q6J("latitude",t.lat)("longitude",t.lng)("markerDraggable",!1),r.xp6(3),r.hij(" ID: ",t.id,"")}}function ai(t,e){1&t&&r._UZ(0,"app-user-element",9),2&t&&r.Q6J("motorizadoID",e.$implicit.id)}let ri=(()=>{class t{constructor(t,e,i){this.repoService=t,this.orderService=e,this.firestoreService=i,this._allMotorizados="api/mot_user/",this.panelOpenState=!1,this.labelOptions={color:"#ee4646",fontFamily:"",fontSize:"10px",fontWeight:"bold",letterSpacing:"0.5px",text:"Plan Pagado/No pagado"},this.listMotorizados=[],this.listOrders=[],this.listMotorizadosRealTime=[],this.currentLat=-2.2175001,this.currentLong=-79.9092901,this.iconLocal={url:"https://despachomotorizado.pythonanywhere.com/media/images/icon/store.svg",scaledSize:{width:40,height:60}},this.iconDestino={url:"https://despachomotorizado.pythonanywhere.com/media/images/icon/flag.svg",scaledSize:{width:40,height:60}},this.iconMotorizado={url:"../../../assets/car.svg",scaledSize:{width:40,height:60}},this.getMotorizadosRealTime=()=>{this.firestoreService.getAll().snapshotChanges().pipe((0,at.U)(t=>t.map(t=>({id:t.payload.doc.id,lat:t.payload.doc.data().lat,lng:t.payload.doc.data().lng})))).subscribe(t=>{this.listMotorizadosRealTime=t,console.log(this.listMotorizadosRealTime)})}}ngOnInit(){this.getMotorizadosRealTime(),this.listOrders=this.orderService.getOrderList(),0===this.listOrders.length?this.repoService.getData("api/orders/").subscribe(t=>{this.orderService.saveOrderList(t),this.listOrders=this.orderService.getOrderList(),void 0===this.orderService.getOrder()&&this.listOrders.length>0&&(this.orderService.saveOrder(this.listOrders[0]),this.currentOrder=this.listOrders[0])}):(this.currentOrder=this.orderService.getOrder(),this.currentLat=this.currentOrder.local.location_id.latitude,this.currentLong=this.currentOrder.local.location_id.longitude,this.currentDesLong=this.currentOrder.destiny_loc.longitude,this.currentDestLat=this.currentOrder.destiny_loc.latitude)}ngAfterViewInit(){this.repoService.getData(this._allMotorizados).toPromise().then(t=>{this.listMotorizados=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.b),r.Y36(b),r.Y36(pe))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-assignation"]],decls:58,vars:27,consts:[[1,"text-center","my-3","py-3"],[1,"tilefix"],[3,"opened","closed"],[3,"usePanning","latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable",4,"ngFor","ngForOf"],[3,"latitude","longitude","markerDraggable","iconUrl"],["infoWindow",""],[3,"motorizadoID",4,"ngFor","ngForOf"],[3,"latitude","longitude","markerDraggable"],[3,"motorizadoID"]],template:function(t,e){1&t&&(r.TgZ(0,"h2",0),r._uU(1,"Asignaci\xf3n de pedidos"),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"mat-expansion-panel",2),r.NdJ("opened",function(){return e.panelOpenState=!0})("closed",function(){return e.panelOpenState=!1}),r.TgZ(4,"mat-expansion-panel-header"),r.TgZ(5,"mat-panel-title"),r._uU(6," DATOS DEL PEDIDO "),r.qZA(),r.TgZ(7,"mat-panel-description"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"agm-map",3),r.YNc(12,oi,5,4,"agm-marker",4),r.TgZ(13,"agm-marker",5),r.TgZ(14,"agm-info-window",null,6),r.TgZ(16,"b"),r._uU(17,"Empresa:"),r.qZA(),r._uU(18),r._UZ(19,"br"),r.TgZ(20,"b"),r._uU(21,"Ubicaci\xf3n:"),r.qZA(),r._uU(22),r._UZ(23,"br"),r.TgZ(24,"b"),r._uU(25,"Fecha del pedido:"),r.qZA(),r._uU(26),r._UZ(27,"br"),r.TgZ(28,"b"),r._uU(29,"Hora del pedido: "),r.qZA(),r._uU(30),r._UZ(31,"br"),r.qZA(),r.qZA(),r.TgZ(32,"agm-marker",5),r.TgZ(33,"agm-info-window",null,6),r.TgZ(35,"b"),r._uU(36,"Cliente:"),r.qZA(),r._uU(37),r._UZ(38,"br"),r.TgZ(39,"b"),r._uU(40,"Ubicaci\xf3n:"),r.qZA(),r._uU(41),r._UZ(42,"br"),r.TgZ(43,"b"),r._uU(44,"Descripci\xf3n:"),r.qZA(),r._uU(45),r._UZ(46,"br"),r.TgZ(47,"b"),r._uU(48,"Subtotal: "),r.qZA(),r._uU(49),r.TgZ(50,"b"),r._uU(51,"Env\xedo: "),r.qZA(),r._uU(52),r._UZ(53,"br"),r.TgZ(54,"b"),r._uU(55,"Total: "),r.qZA(),r._uU(56),r.qZA(),r.qZA(),r.qZA(),r.YNc(57,ai,1,1,"app-user-element",7),r.qZA()),2&t&&(r.xp6(8),r.hij(" ",e.panelOpenState?"Pedido por asignar":"ID del pedido: "+e.currentOrder.id," "),r.xp6(2),r.hij(" ID de la orden: ",e.currentOrder.id,""),r.xp6(1),r.Q6J("usePanning",!0)("latitude",e.currentLat)("longitude",e.currentLong)("zoom",15),r.xp6(1),r.Q6J("ngForOf",e.listMotorizadosRealTime),r.xp6(1),r.Q6J("latitude",e.currentLat)("longitude",e.currentLong)("markerDraggable",!1)("iconUrl",e.iconLocal),r.xp6(5),r.hij(" ",e.currentOrder.local.name,""),r.xp6(4),r.hij(" ",e.currentOrder.local.location_id.reference,""),r.xp6(4),r.hij(" ",e.currentOrder.start_time.slice(0,10),""),r.xp6(4),r.Oqu(e.currentOrder.start_time.slice(11,19)),r.xp6(2),r.Q6J("latitude",e.currentDestLat)("longitude",e.currentDesLong)("markerDraggable",!1)("iconUrl",e.iconDestino),r.xp6(5),r.AsE(" ",e.currentOrder.client.name," ",e.currentOrder.client.apellido,""),r.xp6(4),r.hij(" ",e.currentOrder.destiny_loc.reference,""),r.xp6(4),r.hij(" ",e.currentOrder.details,""),r.xp6(4),r.hij("$",e.currentOrder.price," "),r.xp6(3),r.hij("$",null!=e.currentOrder.delivery_price?e.currentOrder.delivery_price:0,""),r.xp6(4),r.hij("$",e.currentOrder.price+e.currentOrder.delivery_price," "),r.xp6(1),r.Q6J("ngForOf",e.listMotorizadosRealTime))},directives:[Fe,Xe,Ve,Ke,x.SA,n.sg,x.pt,x.d,ni],styles:[".mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}agm-map[_ngcontent-%COMP%]{height:300px}.mat-expansion-panel[_ngcontent-%COMP%], agm-map[_ngcontent-%COMP%]{width:100%}"]}),t})();function si(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"h4",14),r._uU(2,"Datos"),r.qZA(),r.TgZ(3,"button",15),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",16),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",17),r.TgZ(7,"div",18),r.TgZ(8,"div",18),r.TgZ(9,"div",19),r._UZ(10,"img",20),r.TgZ(11,"div",18),r.TgZ(12,"p"),r.TgZ(13,"strong"),r._uU(14,"Nombre: "),r.qZA(),r._uU(15),r.qZA(),r.TgZ(16,"p"),r.TgZ(17,"strong"),r._uU(18,"Estado: "),r.qZA(),r._uU(19),r.qZA(),r.TgZ(20,"p"),r.TgZ(21,"strong"),r._uU(22,"Ubicaci\xf3n: "),r.qZA(),r._uU(23),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",21),r.TgZ(25,"button",22),r.NdJ("click",function(){return r.CHM(t),r.oxw().revokeAndChangeMotoState()}),r._uU(26," Revocar "),r.qZA(),r.TgZ(27,"button",11),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r._uU(28," Cancelar "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(10),r.s9C("src",t.currentMotorizado.user_id.profile_pic,r.LSH),r.xp6(5),r.hij("",t.currentMotorizado.user_id.first_name+" "+t.currentMotorizado.user_id.last_name," "),r.xp6(4),r.hij("",t.currentMotorizado.is_busy?"No Disponible":"Disponible"," "),r.xp6(4),r.hij("",t.currentMotorizado.user_id.home_loc.reference," ")}}let ci=(()=>{class t{constructor(t,e,i,n){this.modalService=t,this.repoService=e,this.orderService=i,this.router=n,this._Motorizado="api/mot_user/",this.closeResult="",this.labelOptions={color:"#ee4646",fontFamily:"",fontSize:"10px",fontWeight:"bold",letterSpacing:"0.5px",text:"Plan Pagado/No pagado"},this.listMotorizados=[],this.listOrders=[],this.lat=-2.1635416501108216,this.long=-79.8976126219511,this.currentLat=-2.2175001,this.currentLong=-79.9092901,this.iconLocal={url:"https://despachomotorizado.pythonanywhere.com/media/images/icon/store.svg",scaledSize:{width:40,height:60}},this.iconDestino={url:"https://despachomotorizado.pythonanywhere.com/media/images/icon/flag.svg",scaledSize:{width:40,height:60}},this.iconMotorizado={url:"../../../assets/car.svg",scaledSize:{width:40,height:60}}}ngOnInit(){this.listOrders=this.orderService.getOrderList(),0===this.listOrders.length?this.repoService.getData("api/orders/").subscribe(t=>{this.orderService.saveOrderList(t),console.log(t),console.log("revoke"),this.listOrders=this.orderService.getOrderList(),console.log("RESPUESTA"),console.log(this.listOrders),void 0===this.orderService.getOrder()&&this.listOrders.length>0&&(this.orderService.saveOrder(this.listOrders[0]),this.currentOrder=this.listOrders[0])}):(this.currentOrder=this.orderService.getOrder(),this.currentMotorizado=this.orderService.getOrder().motorizado,this.currentLat=this.currentOrder.local.location_id.latitude,this.currentLong=this.currentOrder.local.location_id.longitude,this.currentDesLong=this.currentOrder.destiny_loc.longitude,this.currentDestLat=this.currentOrder.destiny_loc.latitude)}ngAfterViewInit(){}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}revokeAndChangeMotoState(){this.repoService.updatePatch(`api/order/revoke/${this.orderService.getOrder().id}`,{}).subscribe(t=>{console.log(t),this.orderService.getOrder().state=1,alert("Se ha revocado al motorizado exitosamente"),this.modalService.dismissAll(),this.router.navigate(["/order"])})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b),r.Y36(b),r.Y36(o.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-revoke"]],decls:32,vars:23,consts:[[1,"text-center","my-3","py-3"],[1,"tilefix"],[3,"usePanning","latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable"],[3,"latitude","longitude","markerDraggable","iconUrl"],[2,"display","none"],[1,"user-element"],[1,"avatar-photo"],["mat-card-avatar","",3,"src"],["mat-raised-button","",3,"color"],["mat-icon-button",""],["mat-raised-button","","color","warn",3,"click"],["mymodal",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"info-col"],[1,"info-row"],["alt","",3,"src"],[1,"info-row","butons-info"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"h2",0),r._uU(1,"Revocar pedidos"),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"h6"),r._uU(4),r.qZA(),r.TgZ(5,"agm-map",2),r._UZ(6,"agm-marker",3),r._UZ(7,"agm-marker",4),r._UZ(8,"agm-marker",4),r.qZA(),r._UZ(9,"mat-card",5),r.TgZ(10,"div",6),r.TgZ(11,"div",7),r.TgZ(12,"mat-card-header"),r._UZ(13,"img",8),r.TgZ(14,"mat-card-title"),r._uU(15),r.qZA(),r.TgZ(16,"mat-card-subtitle"),r._uU(17),r.qZA(),r.qZA(),r.qZA(),r.TgZ(18,"mat-card-header"),r.TgZ(19,"mat-card-title"),r._uU(20),r.qZA(),r.TgZ(21,"mat-card-subtitle"),r._uU(22),r.qZA(),r.qZA(),r.TgZ(23,"button",9),r._uU(24),r.qZA(),r.TgZ(25,"button",10),r.TgZ(26,"mat-icon"),r._uU(27,"chat"),r.qZA(),r.qZA(),r.TgZ(28,"button",11),r.NdJ("click",function(){r.CHM(t);const i=r.MAs(31);return e.open(i)}),r._uU(29," REVOCAR "),r.qZA(),r.qZA(),r.YNc(30,si,29,4,"ng-template",null,12,r.W1O),r.qZA()}2&t&&(r.xp6(4),r.hij(" Pedido: ",e.currentOrder.id," "),r.xp6(1),r.Q6J("usePanning",!0)("latitude",e.currentLat)("longitude",e.currentLong)("zoom",15),r.xp6(1),r.Q6J("latitude",e.lat)("longitude",e.long)("markerDraggable",!1),r.xp6(1),r.Q6J("latitude",e.currentLat)("longitude",e.currentLong)("markerDraggable",!1)("iconUrl",e.iconLocal),r.xp6(1),r.Q6J("latitude",e.currentDestLat)("longitude",e.currentDesLong)("markerDraggable",!1)("iconUrl",e.iconDestino),r.xp6(5),r.s9C("src",e.currentMotorizado.user_id.profile_pic,r.LSH),r.xp6(2),r.Oqu(e.currentMotorizado.user_id.first_name+" "+e.currentMotorizado.user_id.last_name),r.xp6(2),r.Oqu(e.currentMotorizado.is_busy?"NO DISPONIBLE":"DISPONIBLE"),r.xp6(3),r.hij(" ",e.currentMotorizado.user_id.home_loc.reference," "),r.xp6(2),r.hij(" ",e.currentMotorizado.user_id.home_loc.reference," "),r.xp6(1),r.s9C("color",e.currentMotorizado.is_busy?"warn":"primary"),r.xp6(1),r.hij(" ",e.currentMotorizado.is_busy?"NO DISPONIBLE":"DISPONIBLE"," "))},directives:[x.SA,x.pt,ti.a8,ti.dk,ti.kc,ti.n5,ti.$j,l.lW,u.Hw],styles:[".mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}agm-map[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;align-self:center!important;height:300px}.mat-expansion-panel[_ngcontent-%COMP%], agm-map[_ngcontent-%COMP%]{width:100%}.user-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;align-items:center;justify-items:center;padding:10px}.avatar-photo[_ngcontent-%COMP%]{justify-self:baseline}.info-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.info-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;padding:10px}.info-col[_ngcontent-%COMP%], .info-row[_ngcontent-%COMP%]{display:flex}.info-col[_ngcontent-%COMP%]{flex-direction:column;align-content:center}.butons-info[_ngcontent-%COMP%]{justify-content:center}.butons-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]}),t})();function di(t,e){if(1&t&&(r.TgZ(0,"div",13),r.TgZ(1,"div",14),r.TgZ(2,"div",15),r.TgZ(3,"span"),r.TgZ(4,"strong"),r._uU(5,"Detalles del pedido: "),r.qZA(),r._uU(6),r.qZA(),r.TgZ(7,"span"),r.TgZ(8,"strong"),r._uU(9,"Nombre cliente: "),r.qZA(),r._uU(10,"Cliente 1 "),r.qZA(),r.TgZ(11,"span"),r.TgZ(12,"strong"),r._uU(13,"Fecha del pedido: "),r.qZA(),r._uU(14),r.qZA(),r.TgZ(15,"span"),r.TgZ(16,"strong"),r._uU(17,"Fecha de asignaci\xf3n: "),r.qZA(),r._uU(18),r.qZA(),r.qZA(),r.TgZ(19,"div",15),r.TgZ(20,"span"),r.TgZ(21,"strong"),r._uU(22,"Tipo de pago: "),r.qZA(),r._uU(23),r.qZA(),r.TgZ(24,"span"),r.TgZ(25,"strong"),r._uU(26,"Ubicaci\xf3n: "),r.qZA(),r._uU(27),r.qZA(),r.TgZ(28,"span"),r.TgZ(29,"strong"),r._uU(30,"Precio: "),r.qZA(),r._uU(31),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit,i=r.oxw(2);r.xp6(6),r.hij("",t.details," "),r.xp6(8),r.hij("",t.start_time," "),r.xp6(4),r.hij("",t.mot_assigned_time," "),r.xp6(5),r.hij("",t.is_paid?"En efectivo":"Tarjeta de credito"," "),r.xp6(4),r.hij("",i.motorizado.user_id.home_loc.reference," "),r.xp6(4),r.hij("$",t.price," ")}}function li(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",7),r.TgZ(1,"h4",8),r._uU(2),r.qZA(),r.TgZ(3,"button",9),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",10),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",11),r.YNc(7,di,32,6,"div",12),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.hij("\xd3rdenes activas - ",t.motorizado.user_id.first_name+" "+t.motorizado.user_id.last_name,""),r.xp6(5),r.Q6J("ngForOf",t.listOrders)}}let ui=(()=>{class t{constructor(t,e){this.modalService=t,this.repoService=e,this._allOrders="api/order_by_mot/active/",this.closeResult="",this.listOrders=[],this.getOrdersbyMotorizado=()=>{this.repoService.getData(this._allOrders+""+this.motorizado.user_id.id).toPromise().then(t=>{this.listOrders=t})}}ngOnInit(){this.getOrdersbyMotorizado()}open(t){null==this.listOrders?alert("Este motorizado no tiene \xf3rdenes activas"):(console.log(this.listOrders),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`}))}getDismissReason(t){return t===_.If.ESC?"by pressing ESC":t===_.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(_.FF),r.Y36(s.b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-orders-motorizado"]],inputs:{motorizado:"motorizado"},decls:23,vars:8,consts:[[2,"display","none"],[1,"user-element"],[1,"avatar-photo"],["mat-card-avatar","",3,"src"],["mat-raised-button","",3,"color"],["id","bttnOrdenes","mat-raised-button","","color","accent",3,"click"],["mymodal",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","ordenes",4,"ngFor","ngForOf"],[1,"ordenes"],[1,"info-row"],[1,"info-col"]],template:function(t,e){if(1&t){const t=r.EpF();r._UZ(0,"mat-card",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"mat-card-header"),r._UZ(4,"img",3),r.TgZ(5,"mat-card-title"),r._uU(6),r.qZA(),r.TgZ(7,"mat-card-subtitle"),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"mat-card-header"),r.TgZ(10,"mat-card-title"),r._uU(11),r.qZA(),r.TgZ(12,"mat-card-subtitle"),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"mat-card-header"),r.TgZ(15,"mat-card-subtitle"),r._uU(16),r.qZA(),r.qZA(),r.TgZ(17,"button",4),r._uU(18),r.qZA(),r.TgZ(19,"button",5),r.NdJ("click",function(){r.CHM(t);const i=r.MAs(22);return e.open(i)}),r._uU(20," Ver ordenes "),r.qZA(),r.qZA(),r.YNc(21,li,8,2,"ng-template",null,6,r.W1O)}2&t&&(r.xp6(4),r.s9C("src",e.motorizado.user_id.profile_pic,r.LSH),r.xp6(2),r.Oqu(e.motorizado.user_id.first_name+" "+e.motorizado.user_id.last_name),r.xp6(2),r.Oqu(e.motorizado.is_busy?"NO DISPONIBLE":"DISPONIBLE"),r.xp6(3),r.hij(" ",e.motorizado.user_id.home_loc.reference," "),r.xp6(2),r.hij(" ",e.motorizado.user_id.home_loc.reference," "),r.xp6(3),r.hij(" ",e.motorizado.isOnline?"Conectado a internet":"Sin conexi\xf3n a internet"," "),r.xp6(1),r.s9C("color",e.motorizado.is_busy?"warn":"primary"),r.xp6(1),r.hij(" ",e.motorizado.is_busy?"NO DISPONIBLE":"DISPONIBLE"," "))},directives:[ti.a8,ti.dk,ti.kc,ti.n5,ti.$j,l.lW,n.sg],styles:[".user-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;align-items:center;justify-items:center;padding:10px;background-color:#f7fafc;border-color:#000}.avatar-photo[_ngcontent-%COMP%]{justify-self:baseline}.info-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.info-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;padding:10px}.info-row[_ngcontent-%COMP%]{border:1px solid #000;display:flex}.info-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center}.butons-info[_ngcontent-%COMP%]{justify-content:center}.butons-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.email[_ngcontent-%COMP%]{size:10px}"]}),t})();function gi(t,e){if(1&t&&(r.TgZ(0,"agm-marker",5),r.TgZ(1,"agm-info-window",null,6),r._uU(3),r._UZ(4,"br"),r._uU(5),r._UZ(6,"img",7),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.Q6J("latitude",t.user_id.home_loc.latitude)("longitude",t.user_id.home_loc.longitude)("markerDraggable",!1),r.xp6(3),r.hij(" ID: ",t.user_id.id,""),r.xp6(2),r.AsE(" ",t.user_id.first_name," ",t.user_id.last_name," "),r.xp6(1),r.s9C("src",t.user_id.profile_pic,r.LSH)}}function pi(t,e){1&t&&r._UZ(0,"app-orders-motorizado",8),2&t&&r.Q6J("motorizado",e.$implicit)}function mi(t,e){if(1&t&&(r.TgZ(0,"agm-marker",7),r.TgZ(1,"agm-info-window",null,8),r._uU(3),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.Q6J("latitude",t.locations[0].location.latitude)("longitude",t.locations[0].location.longitude)("markerDraggable",!1),r.xp6(3),r.AsE(" ",t.name," ",t.apellido," ")}}function hi(t,e){if(1&t&&(r.TgZ(0,"div",9),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"mat-card-header"),r.TgZ(5,"mat-card-title"),r._uU(6),r.qZA(),r.qZA(),r.TgZ(7,"mat-card-header"),r.TgZ(8,"mat-card-title"),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"mat-card-header"),r.TgZ(11,"mat-card-title"),r._uU(12),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(3),r.AsE("",t.name," ",t.apellido,""),r.xp6(3),r.hij(" ",t.email," "),r.xp6(3),r.hij(" ",null!=t.locations[0]?t.locations[0].location.reference:"No hay registro"," "),r.xp6(3),r.hij(" ",t.id_number," ")}}function Zi(t,e){1&t&&(r.TgZ(0,"div",10),r._uU(1," No hay clientes registrados "),r.qZA())}const fi=[{path:"",component:h,children:[{path:"",redirectTo:"order",pathMatch:"full"},{path:"assignation",component:ri},{path:"revoke",component:ci},{path:"order",component:ge},{path:"motorizados",component:(()=>{class t{constructor(t,e){this.repoService=t,this.firestoreService=e,this._allMotorizados="api/motorizado",this.listMotorizados=[],this.currentLat=-2.2175001,this.currentLong=-79.9092901,this.listMotorizadosRealTime=[],this.getAllMotorizados=()=>{this.repoService.getData(this._allMotorizados).toPromise().then(t=>{this.listMotorizados=t})},this.getMotorizadosRealTime=()=>{this.firestoreService.getAll().snapshotChanges().pipe((0,at.U)(t=>t.map(t=>({id:t.payload.doc.id,lat:t.payload.doc.data().lat,lng:t.payload.doc.data().lng})))).subscribe(t=>{this.listMotorizadosRealTime=t,console.log(this.listMotorizadosRealTime)})}}ngOnInit(){this.getAllMotorizados(),this.getMotorizadosRealTime()}changeInt(t){return parseInt(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.b),r.Y36(pe))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list-motorizado"]],decls:26,vars:6,consts:[[1,"text-center","my-3","py-3"],[3,"usePanning","latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable",4,"ngFor","ngForOf"],[1,"user-element"],[3,"motorizado",4,"ngFor","ngForOf"],[3,"latitude","longitude","markerDraggable"],["infoWindow",""],["mat-card-avatar","",1,"avatar-photo",3,"src"],[3,"motorizado"]],template:function(t,e){1&t&&(r.TgZ(0,"h1",0),r._uU(1,"Pedidos de los motorizados"),r.qZA(),r.TgZ(2,"h5"),r._uU(3,"Ubicaci\xf3n en mapa"),r.qZA(),r.TgZ(4,"agm-map",1),r.YNc(5,gi,7,7,"agm-marker",2),r.qZA(),r._UZ(6,"br"),r.TgZ(7,"h5"),r._uU(8,"Lista"),r.qZA(),r.TgZ(9,"div",3),r.TgZ(10,"mat-card-header"),r.TgZ(11,"mat-card-title"),r._uU(12,"Nombre"),r.qZA(),r.qZA(),r.TgZ(13,"mat-card-header"),r.TgZ(14,"mat-card-title"),r._uU(15," Ubicaci\xf3n "),r.qZA(),r.qZA(),r.TgZ(16,"mat-card-header"),r.TgZ(17,"mat-card-title"),r._uU(18," Internet "),r.qZA(),r.qZA(),r.TgZ(19,"mat-card-header"),r.TgZ(20,"mat-card-title"),r._uU(21," Disponibilidad "),r.qZA(),r.qZA(),r.TgZ(22,"mat-card-header"),r.TgZ(23,"mat-card-title"),r._uU(24," Detalles "),r.qZA(),r.qZA(),r.qZA(),r.YNc(25,pi,1,1,"app-orders-motorizado",4)),2&t&&(r.xp6(4),r.Q6J("usePanning",!0)("latitude",e.currentLat)("longitude",e.currentLong)("zoom",10),r.xp6(1),r.Q6J("ngForOf",e.listMotorizados),r.xp6(20),r.Q6J("ngForOf",e.listMotorizados))},directives:[x.SA,n.sg,ti.dk,ti.n5,x.pt,x.d,ti.kc,ui],styles:[".mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}agm-map[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;align-self:center!important;height:400px}.mat-expansion-panel[_ngcontent-%COMP%], agm-map[_ngcontent-%COMP%]{width:100%}.avatar-photo[_ngcontent-%COMP%]{height:50px;width:50px}.user-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;align-items:center;justify-items:center;padding:10px;background-color:#a8b5c0;border-color:#000}.avatar-photo[_ngcontent-%COMP%]{justify-self:baseline}.info-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.info-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;padding:10px}.info-col[_ngcontent-%COMP%], .info-row[_ngcontent-%COMP%]{display:flex}.info-col[_ngcontent-%COMP%]{flex-direction:column;align-content:center}.butons-info[_ngcontent-%COMP%]{justify-content:center}.butons-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]}),t})()},{path:"customersDetails",component:(()=>{class t{constructor(t){this.repoService=t,this._allCostumers="api/client",this.listCostumers=[],this.listLocations=[],this.currentLat=-79.915413,this.currentLong=-.198542,this.getAllCustomers=()=>{this.repoService.getData(this._allCostumers).toPromise().then(t=>{this.listCostumers=t,this.listCostumers.forEach(t=>{null!=t.locations[0]&&this.listLocations.push(t)})})}}ngOnInit(){this.getAllCustomers()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-customers"]],decls:27,vars:7,consts:[[3,"usePanning","latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable",4,"ngFor","ngForOf"],[1,"detalles"],[1,"user-element","header"],[2,"display","none"],["class","user-element",4,"ngFor","ngForOf"],["id","center",4,"ngIf"],[3,"latitude","longitude","markerDraggable"],["infoWindow",""],[1,"user-element"],["id","center"]],template:function(t,e){1&t&&(r.TgZ(0,"p"),r._uU(1,"Informaci\xf3n de los clientes"),r.qZA(),r.TgZ(2,"h4"),r._uU(3,"Ubicaci\xf3n en mapa"),r.qZA(),r.TgZ(4,"agm-map",0),r.YNc(5,mi,4,5,"agm-marker",1),r.qZA(),r._UZ(6,"br"),r._UZ(7,"br"),r.TgZ(8,"div",2),r.TgZ(9,"h4"),r._uU(10,"Lista"),r.qZA(),r.TgZ(11,"div",3),r.TgZ(12,"mat-card-header"),r.TgZ(13,"mat-card-title"),r._uU(14,"Nombre"),r.qZA(),r.qZA(),r.TgZ(15,"mat-card-header"),r.TgZ(16,"mat-card-title"),r._uU(17," Email "),r.qZA(),r.qZA(),r.TgZ(18,"mat-card-header"),r.TgZ(19,"mat-card-title"),r._uU(20," Ubicaci\xf3n "),r.qZA(),r.qZA(),r.TgZ(21,"mat-card-header"),r.TgZ(22,"mat-card-title"),r._uU(23," C\xe9dula "),r.qZA(),r.qZA(),r.qZA(),r._UZ(24,"mat-card",4),r.YNc(25,hi,13,5,"div",5),r.qZA(),r.YNc(26,Zi,2,0,"div",6)),2&t&&(r.xp6(4),r.Q6J("usePanning",!0)("latitude",e.currentLat)("longitude",e.currentLong)("zoom",2),r.xp6(1),r.Q6J("ngForOf",e.listLocations),r.xp6(20),r.Q6J("ngForOf",e.listCostumers),r.xp6(1),r.Q6J("ngIf",0===e.listCostumers.length))},directives:[x.SA,n.sg,ti.dk,ti.n5,ti.a8,n.O5,x.pt,x.d],styles:["p[_ngcontent-%COMP%]{margin-left:50px!important;padding-top:10px;text-align:center}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}agm-map[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;align-self:center!important;height:400px;width:100%}.user-element[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 1.2fr 1fr 1fr;align-items:center;justify-items:center;padding:10px;margin-left:50px;margin-right:50px;background-color:#f7fafc;border:.25px solid #dadada}.header[_ngcontent-%COMP%]{background-color:#6b2657!important;color:#fff!important;align-items:center!important;justify-items:center!important}.detalles[_ngcontent-%COMP%]{width:100%}h4[_ngcontent-%COMP%]{text-align:center}"]}),t})()}]}];let _i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.Bz.forChild(fi)],o.Bz]}),t})();var bi=i(7746),xi=i(2542);i(4762);let Ai=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez]]}),t})();var Ti=i(552),qi=i(7441),Ci=i(8295);let vi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,p.SJ,_i,u.Ps,m.t,g.Tx,d.g0,l.ot,Z.Nh,Ge,f.p0,_.IJ,bi.ie,xi.vV,Ai,qi.LD,Ci.lN,x.su.forRoot({apiKey:"AIzaSyBHEIRG5sYxESIrlMyq664B6HT3fVw7Wxg"}),ct.u5,ti.QW,Ti.HT],f.p0]}),t})()}}]);